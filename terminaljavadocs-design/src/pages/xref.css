/**
 * JXR Cross-Reference Pages
 *
 * Minimal overrides for JXR pages - most styling comes from:
 * - javadoc.css (navigation, typography, code blocks)
 * - base styles (links, spacing)
 *
 * This file only adds JXR-specific elements:
 * - Line numbers (.jxr_linenumber)
 * - Syntax highlighting (.jxr_keyword, .jxr_string, etc.)
 * - View Javadoc link (#overview)
 */

/* =============================================================================
   SUBNAV SPACING FIX
   ============================================================================= */

.subNav {
    margin-top: var(--sp-2) !important;
    padding-top: var(--sp-3) !important;
    padding-bottom: var(--sp-3) !important;
    clear: both !important;
}

.bottomNav {
    margin-bottom: 2px !important;
}

/* Active nav item - class is ON the li, not inside it */
/* Need high specificity to override ul.navList li gray color */
ul.navList li.navBarCell1Rev,
.topNav ul.navList li.navBarCell1Rev,
.bottomNav ul.navList li.navBarCell1Rev {
    background: var(--accent) !important;
    color: var(--bg-void) !important;
    font-weight: 600 !important;
}

/* Hide Frames / No Frames links - target links with target="_top" */
.navList li a[target="_top"],
.subNav .navList li a[href*="frame"],
.subNav .navList li a[href*="Frame"] {
    display: none !important;
}

/* Hide the parent li if it only contains the hidden link */
.subNav .navList li:has(a[target="_top"]) {
    display: none !important;
}

/* =============================================================================
   VIEW JAVADOC LINK (#overview)
   ============================================================================= */

#overview {
    padding: var(--sp-3) var(--sp-4) !important;
    background: var(--bg-base) !important;
    border-bottom: 1px solid var(--border-subtle) !important;
}

#overview a {
    display: inline-flex !important;
    align-items: center !important;
    gap: var(--sp-2) !important;
    padding: var(--sp-2) var(--sp-3) !important;
    background: var(--bg-raised) !important;
    border: 1px solid var(--border-default) !important;
    border-radius: var(--radius) !important;
    color: var(--accent) !important;
    font-family: var(--font-mono) !important;
    font-size: var(--text-sm) !important;
    font-weight: 500 !important;
    text-decoration: none !important;
    transition: all var(--transition) !important;
}

#overview a::before {
    content: "â†";
}

#overview a:hover {
    background: var(--accent-subtle) !important;
    border-color: var(--accent-dim) !important;
    box-shadow: 0 0 12px var(--accent-glow) !important;
}

/* =============================================================================
   SOURCE CODE PRE - JXR Specific Layout
   ============================================================================= */

/* JXR source pre needs special padding for line numbers */
#overview ~ pre,
body > pre:not([class]) {
    padding-left: 0 !important;
    margin: var(--sp-4) !important;
    color: #008523 !important;
}

/* =============================================================================
   LINE NUMBERS
   ============================================================================= */

.jxr_linenumber,
a.jxr_linenumber {
    display: inline-block !important;
    width: 52px !important;
    padding-right: var(--sp-3) !important;
    margin-right: var(--sp-3) !important;
    text-align: right !important;
    color: var(--text-faint) !important;
    font-family: var(--font-mono) !important;
    font-size: 12px !important;
    text-decoration: none !important;
    user-select: none !important;
    -webkit-user-select: none !important;
    border-right: 1px solid var(--border-subtle) !important;
    transition: color var(--transition) !important;
}

.jxr_linenumber:hover,
a.jxr_linenumber:hover {
    color: var(--accent-dim) !important;
}

/* Targeted line from URL hash */
a.jxr_linenumber:target,
a[name]:target {
    color: var(--accent) !important;
    background: var(--accent-subtle) !important;
}

/* =============================================================================
   SYNTAX HIGHLIGHTING - JXR Classes
   Uses unified --syn-* tokens from colors.css
   ============================================================================= */

/* Keywords (public, class, void, if, etc.) - neon green */
.jxr_keyword,
strong.jxr_keyword {
    color: var(--syn-keyword) !important;
    font-weight: 600 !important;
    font-style: normal !important;
}

/* Strings - almost white */
.jxr_string,
span.jxr_string {
    color: var(--syn-string) !important;
}

/* Regular comments - gray */
.jxr_comment,
em.jxr_comment {
    color: var(--syn-comment) !important;
    font-style: italic !important;
    font-weight: normal !important;
}

/* Javadoc comments - amber for distinction */
.jxr_javadoccomment,
em.jxr_javadoccomment {
    color: var(--syn-javadoc) !important;
    font-style: italic !important;
    font-weight: normal !important;
}

/* Class/type links within source code */
#overview ~ pre a:not(.jxr_linenumber),
body > pre a:not(.jxr_linenumber) {
    color: var(--syn-type) !important;
    text-decoration: none !important;
}

#overview ~ pre a:not(.jxr_linenumber):hover,
body > pre a:not(.jxr_linenumber):hover {
    color: var(--link-hover) !important;
    text-shadow: 0 0 8px var(--link-glow) !important;
}

/* =============================================================================
   SUMMARY TABLES - JXR uses same classes as Javadoc
   Already styled in javadoc.css, but ensure JXR-specific elements work
   ============================================================================= */

/* Hide the orange caption background from JXR defaults */
table.overviewSummary caption,
table.typeSummary caption,
table.memberSummary caption,
table.useSummary caption,
table.constantsSummary caption,
table.deprecatedSummary caption {
    background: var(--bg-raised) !important;
    color: var(--accent) !important;
    padding: var(--sp-3) var(--sp-4) !important;
    text-align: left !important;
    font-family: var(--font-display) !important;
    font-size: var(--text-sm) !important;
    font-weight: 600 !important;
    border-bottom: 1px solid var(--border-default) !important;
}

/* Override the orange span inside captions */
table.overviewSummary caption span,
table.typeSummary caption span,
table.memberSummary caption span,
table.useSummary caption span,
table.constantsSummary caption span,
table.deprecatedSummary caption span {
    background: transparent !important;
    color: inherit !important;
    padding: 0 !important;
    border: none !important;
}

/* Hide tabEnd span */
.tabEnd {
    display: none !important;
}

/* Ensure table rows use our colors */
table.overviewSummary tr.altColor,
table.typeSummary tr.altColor {
    background: var(--bg-base) !important;
}

table.overviewSummary tr.rowColor,
table.typeSummary tr.rowColor {
    background: var(--bg-raised) !important;
}

/* =============================================================================
   RESPONSIVE
   ============================================================================= */

@media (max-width: 768px) {
    #overview ~ pre,
    body > pre:not([class]) {
        margin: var(--sp-3) !important;
        font-size: 11px !important;
    }

    .jxr_linenumber,
    a.jxr_linenumber {
        width: 40px !important;
        font-size: 10px !important;
    }
}
